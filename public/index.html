<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Diabetes Predictor</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f2f2f2;
      padding: 20px;
    }

    h1 {
      text-align: center;
      color: #333;
    }

    form {
      max-width: 600px;
      margin: 0 auto;
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    .input-group {
      margin-bottom: 15px;
    }

    label {
      display: block;
      font-weight: bold;
      margin-bottom: 6px;
    }

    input[type="checkbox"] {
      transform: scale(1.2);
      margin-top: 5px;
    }

    input[type="range"],
    input[type="number"] {
      width: 100%;
      padding: 6px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }

    .slider-value {
      text-align: right;
      font-size: 14px;
      color: #444;
    }

    button {
      width: 100%;
      padding: 10px;
      background: #007bff;
      border: none;
      color: white;
      font-size: 16px;
      border-radius: 5px;
      cursor: pointer;
    }

    button:hover {
      background: #0056b3;
    }

    #result {
      text-align: center;
      font-size: 18px;
      margin-top: 20px;
    }
  </style>
</head>
<body>

  <h1>Diabetes Prediction</h1>
  <form id="predictForm">

    <!-- Checkboxes -->
    <div class="input-group"><label>High Blood Pressure</label><input type="checkbox" id="highbp"></div>
    <div class="input-group"><label>High Cholesterol</label><input type="checkbox" id="highchol"></div>
    <div class="input-group"><label>Cholesterol Checked (past 5 years)</label><input type="checkbox" id="cholcheck"></div>

    <!-- Sliders -->
    <div class="input-group">
      <label>BMI: <span id="bmiVal">25</span></label>
      <input type="range" id="bmi" min="12" max="98" value="25" step="1" oninput="bmiVal.textContent = this.value">
    </div>

    <!-- Checkboxes -->
    <div class="input-group"><label>Smoker (100 cigarettes smoked in life time)</label><input type="checkbox" id="smoker"></div>
    <div class="input-group"><label>Ever Suffered from a stroke</label><input type="checkbox" id="stroke"></div>
    <div class="input-group"><label>Heart Disease or Heart Attack</label><input type="checkbox" id="heart"></div>
    <div class="input-group"><label>Physical Activity</label><input type="checkbox" id="physactivity"></div>
    <div class="input-group"><label>Eats Fruits (1 or more a day)</label><input type="checkbox" id="fruits"></div>
    <div class="input-group"><label>Eats Vegetables (1 or more a day)</label><input type="checkbox" id="veggies"></div>
    <div class="input-group"><label>Heavy Alcohol Consumption (adult men >=14 drinks per week and adult women>=7 drinks per week)</label><input type="checkbox" id="alcohol"></div>
    <div class="input-group"><label>Access to Healthcare</label><input type="checkbox" id="anyhealthcare"></div>
    <div class="input-group"><label>Can't See Doctor Due to Cost</label><input type="checkbox" id="nodoccost"></div>

    <!-- Sliders -->
    <div class="input-group">
      <label>General Health (1=Excellent to 5=Poor): <span id="genhlthVal">3</span></label>
      <input type="range" id="genhlth" min="1" max="5" value="3" oninput="genhlthVal.textContent = this.value">
    </div>
    <div class="input-group">
      <label>Mental Health (Days): <span id="menthlthVal">5</span></label>
      <input type="range" id="menthlth" min="0" max="30" value="5" oninput="menthlthVal.textContent = this.value">
    </div>
    <div class="input-group">
      <label>Physical Health (Physical illness or injury days in past 30 days): <span id="physhlthVal">5</span></label>
      <input type="range" id="physhlth" min="0" max="30" value="5" oninput="physhlthVal.textContent = this.value">
    </div>

    <!-- Checkboxes -->
    <div class="input-group"><label>Difficulty Walking</label><input type="checkbox" id="diffwalk"></div>
    <div class="input-group"><label>Sex (Check for Male, leave for Female)</label><input type="checkbox" id="sex"></div>

    <!-- Sliders -->
    <div class="input-group">
      <label>Age Category</label>
      <select id="age">
        <option value="1">18–24</option>
        <option value="2">25–29</option>
        <option value="3">30–34</option>
        <option value="4">35–39</option>
        <option value="5">40–44</option>
        <option value="6">45–49</option>
        <option value="7">50–54</option>
        <option value="8">55–59</option>
        <option value="9">60–64</option>
        <option value="10">65–69</option>
        <option value="11">70–74</option>
        <option value="12">75–79</option>
        <option value="13">80 or older</option>
      </select>
    </div>
    <div class="input-group">
      <label>Education Level (1 (low) – 6 (high)): <span id="educationVal">3</span></label>
      <input type="range" id="education" min="1" max="6" value="3" oninput="educationVal.textContent = this.value">
    </div>
    <div class="input-group">
      <label>Income Level (1 = less than $10,000 5 = less than $35,000 8 = $75,000 or more): <span id="incomeVal">4</span></label>
      <input type="range" id="income" min="1" max="8" value="4" oninput="incomeVal.textContent = this.value">
    </div>

    <button type="submit">Predict</button>
  </form>

  <div id="result"></div>

  <script>
    document.getElementById('predictForm').addEventListener('submit', async (e) => {
      e.preventDefault();

      const input = [
        +document.getElementById('highbp').checked,
        +document.getElementById('highchol').checked,
        +document.getElementById('cholcheck').checked,
        parseFloat(document.getElementById('bmi').value),
        +document.getElementById('smoker').checked,
        +document.getElementById('stroke').checked,
        +document.getElementById('heart').checked,
        +document.getElementById('physactivity').checked,
        +document.getElementById('fruits').checked,
        +document.getElementById('veggies').checked,
        +document.getElementById('alcohol').checked,
        +document.getElementById('anyhealthcare').checked,
        +document.getElementById('nodoccost').checked,
        parseFloat(document.getElementById('genhlth').value),
        parseFloat(document.getElementById('menthlth').value),
        parseFloat(document.getElementById('physhlth').value),
        +document.getElementById('diffwalk').checked,
        +document.getElementById('sex').checked,
        parseFloat(document.getElementById('age').value),
        parseFloat(document.getElementById('education').value),
        parseFloat(document.getElementById('income').value)
      ];

      const res = await fetch('/predict', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ input })
      });

      const data = await res.json();
      document.getElementById('result').textContent = `Prediction: ${data.prediction === 1 ? 'Diabetic' : 'Not Diabetic'}`;
    });
  </script>

</body>
</html>
